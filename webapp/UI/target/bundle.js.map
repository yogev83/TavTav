{"version":3,"sources":["webpack:///webpack/bootstrap 3c23da80e164a87cfc3b","webpack:///./src/main/common/utils.js","webpack:///./src/main/common/form/fromFieldValidation.js","webpack:///./src/mockServer/mockServer.js","webpack:///./src/main/modules/formDialog/formDialog.js","webpack:///./src/main/common/form/formFieldValidators.js","webpack:///./src/main/main.js","webpack:///./src/main/mainController.js","webpack:///./src/main/mainView/bodyController.js","webpack:///./src/main/modules/login/login.js","webpack:///./src/mockServer/services/userService.js","webpack:///./src/main/common/dialog/dialog.js","webpack:///./src/main/common/form/form.js","webpack:///./src/main/common/form/basicStringValidators.js","webpack:///./src/main/modules/register/register.js","webpack:///./src/main/mainView/gameView/game.js","webpack:///./src/main/mainView/gameView/welcomeScreen/welcome.js","webpack:///./src/main/mainView/gameView/playScreen/play.js","webpack:///./src/main/header/headerController.js","webpack:///./src/main/session/session.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe,oEAAW,EAAC;;;;;;;;ACjB3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,4EAAmB,EAAC;;;;;;;;ACfnC;AAAiD;;AAEjD;AACA;AACA;AACA,yBAAyB,sEAAW;AACpC;;AAEA;AACA;AACA;AACA;;AAEe,yEAAgB,EAAC;;;;;;;;ACbhC;AAAA;AAAA;AAAgD;AACN;AACH;;AAEvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAsB,sEAAM;AAC5B;AACA;AACA;AACA;;AAEA,oBAAoB,kEAAI;;AAExB;AACA,MAAM,8DAAK;AACX;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI,8DAAK;AACT;AACA;;AAEe,yEAAgB,EAAC;;;;;;;;AC3DhC;AAA4D;;AAE5D,kCAAkC,uEAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,kFAAyB,EAAC;;;;;;;;AC3CzC;AAAA;AAA8C;;AAE9C;AACA;;AAEA;AACA,yBAAyB,gEAAc;AACvC;AACA,GAAG;AACH,CAAC,qBAAqB;;;;;;;;ACTtB;AAAA;AAAA;AAAuD;AACE;AACtB;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAI,8DAAK;AACT;;AAEA;AACA;;AAEA,kCAAkC,yEAAgB;AAClD,gCAAgC,yEAAc;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEe,uEAAc,EAAC;;;;;;;;ACjC9B;AAAA;AAAA;AAAiD;AACS;AACvB;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,+DAAI;AACvB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,oBAAoB,qEAAW;AAC/B;AACA;AACA,KAAK;AACL;;AAEA;AACA,uBAAuB,2EAAc;AACrC;AACA;;AAEe,uEAAc,EAAC;;;;;;;;AChC9B;AAAA;AAAwD;AACA;;AAExD,0BAA0B,uEAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,OAAO;AACP,KAAK;AACL;;AAEA;AACA,sBAAsB,uEAAU;AAChC;AACA;AACA,KAAK;AACL;AACA;;AAEe,oEAAW,EAAC;;;;;;;;ACnC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,0EAAiB,EAAC;;;;;;;;ACvCjC;AAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,8DAAK;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEe,+DAAM,EAAC;;;;;;;;ACjEtB;AAAA;AAAA;AAA6B;AAC2B;AACA;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,uDAAK;AAChB,MAAM,uDAAK;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,qEAAmB;AAC5C;;AAEA;AACA,mBAAmB,qEAAmB;AACtC;AACA;AACA;AACA,SAAS;AACT,iBAAiB,qEAAmB;AACpC;AACA,uBAAuB,qEAAmB;AAC1C;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP,eAAe,qEAAmB;AAClC;AACA,qBAAqB,qEAAmB;AACxC;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,6DAAI,EAAC;;;;;;;;AC5JpB;AAAwD;AACA;;AAExD;AACA;AACA,eAAe,qEAAmB;AAClC;;AAEA;AACA,yBAAyB,qEAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,qEAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,qEAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,qEAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,qEAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,qEAAmB;AAC5C,gDAAgD,IAAI;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,qEAAmB;AAClC;AACA;;AAEe,8EAAqB,EAAC;;;;;;;;AC3ErC;AAAA;AAAA;AAAA;AAAwD;AACA;AACgB;AACA;;AAExE,6BAA6B,uEAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,uEAAU;AAChC;AACA;;AAEA;AACA,yBAAyB,iFAAmB;AAC5C;AACA;;AAEA,iBAAiB,iFAAmB;AACpC;AACA;AACA,qBAAqB,iFAAmB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEe,uEAAc,EAAC;;;;;;;;AC7C9B;AAAA;AAA8C;AACT;;AAErC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,uEAAO;AAC7B;AACA;AACA,iBAAiB,iEAAI;AACrB;AACA;AACA,KAAK;AACL;AACA;;AAEe,6DAAI,EAAC;;;;;;;;ACrBpB;AAA0C;;AAE1C;AACA;AACA;AACA;;AAEA;AACA,IAAI,8DAAK;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEe,gEAAO,EAAC;;;;;;;;ACvBvB;AAA0C;;AAE1C;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,8DAAK;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA,mC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,6DAAI,EAAC;;;;;;;;ACpCpB;AAAA;AAAqD;AACZ;;AAEzC;AACA;AACA;AACA,uBAAuB,iEAAO;AAC9B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe,yEAAgB,EAAC;;;;;;;;AC/BhC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,gEAAO,EAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3c23da80e164a87cfc3b","class Utils {\r\n  getTemplate(htmlName) {\r\n    let $getTemplate = $.get(tavtav.templatesPath + htmlName + \".html\");\r\n    return $.when($getTemplate);\r\n  }\r\n\r\n  hideOverlay() {\r\n    let $overlay = $($(\".overlay\")[0]);\r\n    $overlay.hide();\r\n  }\r\n\r\n  showOverlay() {\r\n    let $overlay = $($(\".overlay\")[0]);\r\n    $overlay.show();\r\n  }\r\n}\r\n\r\nexport default new Utils();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/common/utils.js\n// module id = 0\n// module chunks = 0","class FormFieldValidation {\r\n  constructor(isValid = true, error = \"\") {\r\n    this.isValid = isValid;\r\n    this.error = error;\r\n  }\r\n\r\n  setValidStatus(isValid) {\r\n    this.isValid = isValid;\r\n  }\r\n\r\n  setError(error) {\r\n    this.error = error;\r\n  }\r\n}\r\n\r\nexport default FormFieldValidation;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/common/form/fromFieldValidation.js\n// module id = 1\n// module chunks = 0","import UserService from \"./services/userService\";\r\n\r\nclass MockServer {\r\n  constructor() {\r\n    this.services = [];\r\n    this.services.user = UserService;\r\n  }\r\n\r\n  getService(serviceName) {\r\n    return this.services[serviceName];\r\n  }\r\n}\r\n\r\nexport default new MockServer();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mockServer/mockServer.js\n// module id = 2\n// module chunks = 0","import Dialog from \"../../common/dialog/dialog\";\r\nimport Form from \"../../common/form/form\";\r\nimport Utils from \"../../common/utils\";\r\n\r\nclass FormDialogModule {\r\n  constructor() {\r\n    this.dialog = null;\r\n    this.form = null;\r\n    this.$container = $(\"#main\");\r\n    this.okPressed = false;\r\n\r\n    this.formOptions = this.formOptions || {};\r\n  }\r\n\r\n  create(handler) {\r\n    this.handler = handler;\r\n    this.dialog = new Dialog(\r\n      this.onOk.bind(this),\r\n      this.onClose.bind(this),\r\n      this.dialogOptions\r\n    );\r\n\r\n    this.form = new Form(this.formTemplate, this.formOptions);\r\n\r\n    return this.dialog.create(this.$container).then(() => {\r\n      Utils.showOverlay();\r\n      return this.form.create(this.dialog.getContent()).then(() => {\r\n        $($(this.dialog.getContent()).find(\"input\")[0]).focus();\r\n      });\r\n    });\r\n  }\r\n\r\n  onOk() {\r\n    let data;\r\n    let valid = this.form.validate();\r\n    if (!valid) {\r\n      return;\r\n    }\r\n\r\n    data = this.form.getData();\r\n    this.action(data)\r\n      .then(response => {\r\n        this.close();\r\n      })\r\n      .fail(error => {\r\n        this.form.showError(error);\r\n      });\r\n  }\r\n\r\n  close() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  onClose() {\r\n    delete this.dialog;\r\n    Utils.hideOverlay();\r\n  }\r\n}\r\n\r\nexport default FormDialogModule;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/modules/formDialog/formDialog.js\n// module id = 3\n// module chunks = 0","import BasicStringValidators from \"./basicStringValidators\";\r\n\r\nclass FormFieldValidators extends BasicStringValidators {\r\n  static get consts() {\r\n    return {\r\n      NAME_MAX_LENGTH: 16,\r\n      PASSWORD_MIN_LENGTH: 6,\r\n      PASSWORD_MAX_LENGTH: 12\r\n    };\r\n  }\r\n\r\n  username(username) {\r\n    let validation = this.startsWithLetter(username);\r\n    if (validation.isValid) {\r\n      validation = this.alphaNumeric(username);\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  name(name) {\r\n    let validation = this.onlyLetters(name);\r\n    if (validation.isValid) {\r\n      validation = this.maxLength(\r\n        name,\r\n        FormFieldValidators.consts.NAME_MAX_LENGTH\r\n      );\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  password(password) {\r\n    let validation = this.alphaNumeric(password);\r\n    if (validation.isValid) {\r\n      validation = this.lengthBetween(\r\n        password,\r\n        FormFieldValidators.consts.PASSWORD_MIN_LENGTH,\r\n        FormFieldValidators.consts.PASSWORD_MAX_LENGTH\r\n      );\r\n    }\r\n    return validation;\r\n  }\r\n}\r\n\r\nexport default new FormFieldValidators();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/common/form/formFieldValidators.js\n// module id = 4\n// module chunks = 0","import MainController from \"./mainController\";\r\n\r\n(scope => {\r\n  scope.templatesPath = \"./templates/\";\r\n\r\n  $(document).ready(() => {\r\n    let controller = new MainController();\r\n    controller.start();\r\n  });\r\n})((window.tavtav = {}));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/main.js\n// module id = 5\n// module chunks = 0","import BodyController from \"./mainView/bodyController\";\r\nimport HeaderController from \"./header/headerController\";\r\nimport Utils from \"./common/utils\";\r\n\r\nclass MainController {\r\n  constructor() {\r\n    this.headerController;\r\n    this.bodyController;\r\n  }\r\n\r\n  start() {\r\n    let $headerView;\r\n    let $mainView;\r\n\r\n    Utils.getTemplate(\"main\").then(html => {\r\n      $(\"body div#main\").html(html);\r\n\r\n      $headerView = $(\"#header\");\r\n      $mainView = $(\"#main-view\");\r\n\r\n      this.headerController = new HeaderController($headerView);\r\n      this.bodyController = new BodyController($mainView);\r\n\r\n      this.headerController.start(\r\n        this.bodyController.openLoginDialog.bind(this.bodyController)\r\n      );\r\n      this.bodyController.start(\r\n        this.headerController.initSession.bind(this.headerController)\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nexport default MainController;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/mainController.js\n// module id = 6\n// module chunks = 0","import LoginModule from \"../modules/login/login\";\r\nimport RegisterModule from \"../modules/register/register\";\r\nimport Game from \"./gameView/game\";\r\n\r\nclass BodyController {\r\n  constructor($view) {\r\n    this.$view = $view;\r\n    this.session = null;\r\n  }\r\n\r\n  start(onLogin) {\r\n    this.onLogin = onLogin;\r\n    let game = new Game(this.session);\r\n    game.start(() => {\r\n      if (this.session == null) {\r\n        this.openLoginDialog();\r\n      }\r\n    });\r\n  }\r\n\r\n  openLoginDialog() {\r\n    let login = new LoginModule(this.$view).create(session => {\r\n      this.session = session;\r\n      this.onLogin(session);\r\n    }, this.openRegisterDialog.bind(this));\r\n  }\r\n\r\n  openRegisterDialog() {\r\n    let register = new RegisterModule(this.$view).create();\r\n  }\r\n}\r\n\r\nexport default BodyController;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/mainView/bodyController.js\n// module id = 7\n// module chunks = 0","import mockServer from \"../../../mockServer/mockServer\";\r\nimport FormDialogModule from \"../formDialog/formDialog\";\r\n\r\nclass LoginModule extends FormDialogModule {\r\n  constructor($container) {\r\n    super($container);\r\n    this.formTemplate = \"loginForm\";\r\n    this.dialogOptions = {\r\n      className: \"login-dialog\",\r\n      okLabel: \"Login\"\r\n    };\r\n  }\r\n\r\n  create(onLogin, onNotRegisterdClick) {\r\n    super.create(onLogin).then(() => {\r\n      //MUST BE FIXED!!\r\n      setTimeout(() => {\r\n        $(this.dialog.getContent())\r\n          .find(\"#register\")\r\n          .click(() => {\r\n            this.close();\r\n            onNotRegisterdClick();\r\n          });\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  action(data) {\r\n    let userService = mockServer.getService(\"user\");\r\n    return userService.login(data).then(session => {\r\n      this.handler(session);\r\n    });\r\n  }\r\n}\r\n\r\nexport default LoginModule;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/modules/login/login.js\n// module id = 8\n// module chunks = 0","class UserService {\r\n  register(data) {\r\n    let $deferred = $.Deferred();\r\n    localStorage.setItem(data.username, JSON.stringify(data));\r\n    $deferred.resolve();\r\n    return $deferred.promise();\r\n  }\r\n\r\n  login(data) {\r\n    let $deferred = $.Deferred();\r\n    let savedUserString = localStorage.getItem(data.username);\r\n    let savedUser = JSON.parse(savedUserString);\r\n    let session = {};\r\n\r\n    if (!savedUserString) {\r\n      $deferred.reject(\"Error: user does not exist\");\r\n    } else if (data.password !== savedUser.password) {\r\n      $deferred.reject(\"Error: username and password do not match!\");\r\n    } else {\r\n      session.user = this.filterUserData(savedUser);\r\n      session.id = Math.random()\r\n        .toString(36)\r\n        .slice(-8);\r\n\r\n      $deferred.resolve(session);\r\n    }\r\n    return $deferred.promise();\r\n  }\r\n\r\n  filterUserData(user) {\r\n    return {\r\n      firstname: user.firstname,\r\n      lastname: user.lastname,\r\n      email: user.email,\r\n      username: user.username\r\n    };\r\n  }\r\n}\r\n\r\nexport default new UserService();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mockServer/services/userService.js\n// module id = 9\n// module chunks = 0","import Utils from \"../../common/utils\";\r\n\r\nclass Dialog {\r\n  constructor(onOk, onClose, options) {\r\n    this.$dialogElement = null;\r\n    this.$dialogContent = null;\r\n    this.$errorContainer = null;\r\n    this.$cancelButton = null;\r\n    this.$okButton = null;\r\n    this.onOk = onOk;\r\n    this.onClose = onClose;\r\n    this.options = options;\r\n  }\r\n\r\n  create($container) {\r\n    return Utils.getTemplate(\"dialog\").then(html => {\r\n      $container.append(html);\r\n      this.$dialogElement = $container.find(\".dialog\");\r\n      this.$dialogContent = this.$dialogElement.find(\".dialog-content\");\r\n      this.$cancelButton = this.$dialogElement.find(\".cancel-button\");\r\n      this.$okButton = this.$dialogElement.find(\".ok-button\");\r\n      this.$dialogElement.addClass(this.options.className);\r\n\r\n      if (this.options.cancelLabel) {\r\n        this.$cancelButton.html(this.options.cancelLabel);\r\n      }\r\n\r\n      if (this.options.okLabel) {\r\n        this.$okButton.html(this.options.okLabel);\r\n      }\r\n\r\n      this.attachEvents();\r\n    });\r\n  }\r\n\r\n  getContent() {\r\n    return this.$dialogContent;\r\n  }\r\n\r\n  attachEvents() {\r\n    this.$cancelButton.mousedown(() => {\r\n      this.$cancelButton.addClass(\"active\");\r\n    });\r\n\r\n    this.$cancelButton.mouseup(() => {\r\n      this.$cancelButton.removeClass(\"active\");\r\n      this.close();\r\n    });\r\n\r\n    this.$okButton.mousedown(() => {\r\n      this.$okButton.addClass(\"active\");\r\n    });\r\n\r\n    this.$okButton.mouseup(() => {\r\n      this.$okButton.removeClass(\"active\");\r\n      this.onOk();\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.onClose();\r\n    this.$dialogElement.remove();\r\n  }\r\n}\r\n\r\nexport default Dialog;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/common/dialog/dialog.js\n// module id = 10\n// module chunks = 0","import Utils from \"../utils\";\r\nimport FormFieldValidators from \"./formFieldValidators\";\r\nimport FormFieldValidation from \"./fromFieldValidation\";\r\n\r\nclass Form {\r\n  static get validationState() {\r\n    return {\r\n      UNSET: \"unset\",\r\n      VALID: \"valid\",\r\n      INVALID: \"invalid\"\r\n    };\r\n  }\r\n\r\n  constructor(formTemplate, options) {\r\n    this.$container = null;\r\n    this.$formElement = null;\r\n    this.$errorContainer = null;\r\n    this.formTemplate = formTemplate;\r\n    this.validState = Form.validationState.UNSET;\r\n    this.options = options;\r\n    this.data = {};\r\n  }\r\n\r\n  create($container) {\r\n    this.$container = $container;\r\n    return Utils.getTemplate(this.formTemplate).then(html => {\r\n      Utils.getTemplate(\"fieldError\").then(errorElement => {\r\n        this.errorElement = errorElement;\r\n        $container.append(html);\r\n        this.$formElement = $container.find(\"div.form\");\r\n        this.$errorContainer = this.$formElement.find(\".form-error-message\");\r\n        this.$errorContainer.append(\"<p></p>\");\r\n        this.$fields = this.$formElement.find(\".form-field\");\r\n        this.initFields();\r\n      });\r\n    });\r\n  }\r\n\r\n  initFields() {\r\n    let $inputBuffer = null;\r\n    $.each(this.$fields, (i, field) => {\r\n      $inputBuffer = $($(field).find(\"input\"));\r\n      $inputBuffer.change(() => {\r\n        if (this.validState == Form.validationState.INVALID) {\r\n          this.validate.call(this);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  setValue(data) {\r\n    for (let k in data) {\r\n      this.$formElement.find(\"input[name='\" + k + \"'].form-field\");\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    let data = {};\r\n    let $inputBuffer = null;\r\n    $.each(this.$fields, (i, field) => {\r\n      $inputBuffer = $($(field).find(\"input\"));\r\n      data[$inputBuffer.attr(\"name\")] = $inputBuffer.val();\r\n    });\r\n    return data;\r\n  }\r\n\r\n  showError(error) {\r\n    this.$errorContainer.find(\"p\").html(error);\r\n    this.$errorContainer.show();\r\n  }\r\n\r\n  hideError() {\r\n    this.$errorContainer.find(\"p\").html(\"\");\r\n    this.$errorContainer.hide();\r\n  }\r\n\r\n  validate() {\r\n    let valid = true;\r\n    let currentValid = true;\r\n\r\n    $.each(this.$fields, (i, field) => {\r\n      currentValid = this.validateField($(field));\r\n      valid = valid && currentValid;\r\n    });\r\n\r\n    if (valid) {\r\n      this.validState = Form.validationState.VALID;\r\n    } else {\r\n      this.validState = Form.validationState.INVALID;\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  validateField($field) {\r\n    let $input = $($field.find(\"input\"));\r\n    let value = $input.val();\r\n    let fieldValidationName = $field.attr(\"validation\");\r\n    let validation = new FormFieldValidation();\r\n    let customValidators = this.options.validators;\r\n\r\n    if ($field.attr(\"required\")) {\r\n      validation = FormFieldValidators.required(value);\r\n      if (validation.isValid && fieldValidationName) {\r\n        if (typeof customValidators[fieldValidationName] == \"function\") {\r\n          validation = customValidators[fieldValidationName](value);\r\n        } else if (\r\n          typeof FormFieldValidators[fieldValidationName] == \"function\"\r\n        ) {\r\n          validation = FormFieldValidators[fieldValidationName](value);\r\n        }\r\n      }\r\n    } else if (fieldValidationName) {\r\n      if (typeof customValidators[fieldValidationName] == \"function\") {\r\n        validation = customValidators[fieldValidationName](value);\r\n      } else if (\r\n        typeof FormFieldValidators[fieldValidationName] == \"function\"\r\n      ) {\r\n        validation = FormFieldValidators[fieldValidationName](value);\r\n      }\r\n    }\r\n\r\n    if (!validation.isValid) {\r\n      $input.addClass(\"invalid\");\r\n      this.appendErrorToField($field, validation.error);\r\n    } else {\r\n      $input.removeClass(\"invalid\");\r\n      this.removeErrorFromField($field);\r\n    }\r\n\r\n    return validation.isValid;\r\n  }\r\n\r\n  appendErrorToField($field, error) {\r\n    let $errorElement;\r\n    let fieldError = $field.find(\"div.field-error\")[0];\r\n    if (!fieldError) {\r\n      $field.append(this.errorElement);\r\n      fieldError = $field.find(\"div.field-error\")[0];\r\n    }\r\n    $errorElement = $(fieldError);\r\n    $errorElement.show();\r\n    $($errorElement.find(\"p\")[0]).html(error);\r\n  }\r\n\r\n  removeErrorFromField($field) {\r\n    let $errorElement;\r\n    let fieldError = $field.find(\"div.field-error\")[0];\r\n    if (fieldError) {\r\n      $errorElement = $(fieldError);\r\n      $errorElement.hide();\r\n      $($errorElement.find(\"p\")[0]).html(\"\");\r\n    }\r\n  }\r\n}\r\n\r\nexport default Form;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/common/form/form.js\n// module id = 11\n// module chunks = 0","import FromFieldValidation from \"./fromFieldValidation\";\r\nimport FormFieldValidation from \"./fromFieldValidation\";\r\n\r\nclass BasicStringValidators {\r\n  required(string) {\r\n    return new FromFieldValidation(string !== \"\", \"Value is required\");\r\n  }\r\n\r\n  onlyLetters(string) {\r\n    let validation = new FromFieldValidation();\r\n    if (!/^[a-z]+$/i.test(string)) {\r\n      validation.setValidStatus(false);\r\n      validation.setError(\"Must contain only letters\");\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  alphaNumeric(string) {\r\n    let validation = new FromFieldValidation();\r\n    if (!/^[a-z0-9]+$/i.test(string)) {\r\n      validation.setValidStatus(false);\r\n      validation.setError(\"Must contain only letters and numbers\");\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  startsWithLetter(string) {\r\n    let validation = new FromFieldValidation();\r\n    if (!/^[a-z]+$/i.test(string[0])) {\r\n      validation.setValidStatus(false);\r\n      validation.setError(\"Must start with a letter\");\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  maxLength(string, maxLength) {\r\n    let validation = new FromFieldValidation();\r\n    if (string.length >= maxLength) {\r\n      validation.setValidStatus(false);\r\n      validation.setError(\"Max length is \" + maxLength);\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  minLength(string, minLength) {\r\n    let validation = new FromFieldValidation();\r\n    if (string.length <= minLength) {\r\n      validation.setValidStatus(false);\r\n      validation.setError(\"Min length is \" + minLength);\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  lengthBetween(string, minLength, maxLength) {\r\n    let validation = this.minLength(string, minLength);\r\n    if (validation.isValid) {\r\n      validation = this.maxLength(string, maxLength);\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  email(string) {\r\n    let validation = new FromFieldValidation();\r\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(string)) {\r\n      validation.setValidStatus(false);\r\n      validation.setError(\"Must be a valid email\");\r\n    }\r\n    return validation;\r\n  }\r\n\r\n  match(string1, string2) {\r\n    return new FormFieldValidation(string1 == string2, \"Do not match\");\r\n  }\r\n}\r\n\r\nexport default BasicStringValidators;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/common/form/basicStringValidators.js\n// module id = 12\n// module chunks = 0","import FormDialogModule from \"../formDialog/formDialog\";\r\nimport mockServer from \"../../../mockServer/mockServer\";\r\nimport FormFieldValidators from \"../../common/form/formFieldValidators\";\r\nimport FormFieldValidation from \"../../common/form/fromFieldValidation\";\r\n\r\nclass RegisterModule extends FormDialogModule {\r\n  constructor($container) {\r\n    super($container);\r\n    this.formTemplate = \"registerForm\";\r\n    this.dialogOptions = {\r\n      className: \"register-dialog\",\r\n      cancelLabel: \"Not Now\",\r\n      okLabel: \"Register\"\r\n    };\r\n    this.formOptions = {\r\n      validators: {\r\n        password: this.passwordValidation\r\n      }\r\n    };\r\n  }\r\n\r\n  action(data) {\r\n    let userService = mockServer.getService(\"user\");\r\n    return userService.register(data);\r\n  }\r\n\r\n  passwordValidation(passwordValue) {\r\n    let validation = new FormFieldValidation();\r\n    let password = $(\".form-field input[name='password']\").val();\r\n    let reEnterPassword = $(\".form-field input[name='reEnterPassword']\").val();\r\n\r\n    validation = FormFieldValidators.password(passwordValue);\r\n    if (validation.isValid) {\r\n      if (password && reEnterPassword) {\r\n        validation = FormFieldValidators.match(password, reEnterPassword);\r\n        if (!validation.isValid) {\r\n          validation.setError(\"Passwords \" + validation.error);\r\n        }\r\n      }\r\n    }\r\n\r\n    return validation;\r\n  }\r\n}\r\n\r\nexport default RegisterModule;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/modules/register/register.js\n// module id = 13\n// module chunks = 0","import Welcome from \"./welcomeScreen/welcome\";\r\nimport Play from \"./playScreen/play\";\r\n\r\nclass Game {\r\n  constructor(session) {\r\n    this.session = session;\r\n    this.$gameView = $(\"#game-view\");\r\n  }\r\n\r\n  start(onPlay) {\r\n    let play;\r\n    let welcome = new Welcome(this.$gameView);\r\n    welcome.create(() => {\r\n      welcome.destroy();\r\n      play = new Play(this.$gameView);\r\n      play.create();\r\n      onPlay();\r\n    });\r\n  }\r\n}\r\n\r\nexport default Game;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/mainView/gameView/game.js\n// module id = 14\n// module chunks = 0","import Utils from \"../../../common/utils\";\r\n\r\nclass Welcome {\r\n  constructor($view) {\r\n    this.$view = $view;\r\n  }\r\n\r\n  create(onPlayClick) {\r\n    Utils.getTemplate(\"welcome\").then(html => {\r\n      let $playButton;\r\n      this.$view.append(html);\r\n      $playButton = $(\"#play-button\");\r\n      $playButton.click(() => {\r\n        onPlayClick();\r\n      });\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    this.$view.empty();\r\n  }\r\n}\r\n\r\nexport default Welcome;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/mainView/gameView/welcomeScreen/welcome.js\n// module id = 15\n// module chunks = 0","import Utils from \"../../../common/utils\";\r\n\r\nclass Play {\r\n  constructor($view) {\r\n    this.ctx = new AudioContext();\r\n    this.$view = $view;\r\n  }\r\n\r\n  create() {\r\n    Utils.getTemplate(\"play\").then(html => {\r\n      let $playSoundButton;\r\n      this.$view.append(html);\r\n      $playSoundButton = $(\"#play-sound\");\r\n      $playSoundButton.mousedown(() => {\r\n        $playSoundButton.addClass(\"pressed\");\r\n      });\r\n      $playSoundButton.mouseup(() => {\r\n        $playSoundButton.removeClass(\"pressed\");\r\n        this.playSound();\r\n      });\r\n    });\r\n  }\r\n\r\n  playSound() {\r\n    let o = this.ctx.createOscillator();\r\n    let  g = this.ctx.createGain(); \r\n    o.connect(g);\r\n    o.type = \"triangle\";\r\n    g.connect(this.ctx.destination);\r\n    o.start(0);\r\n    g.gain.exponentialRampToValueAtTime(\r\n      0.00001, this.ctx.currentTime + 1\r\n    )\r\n  }\r\n}\r\n\r\nexport default Play;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/mainView/gameView/playScreen/play.js\n// module id = 16\n// module chunks = 0","import mockServer from \"../../mockServer/mockServer\";\r\nimport Session from \"../session/session\";\r\n\r\nclass HeaderController {\r\n  constructor($view) {\r\n    this.$view = $view;\r\n    this.session = new Session();\r\n  }\r\n\r\n  start(onLoginClick) {\r\n    this.onLoginClick = onLoginClick;\r\n    this.attachEvent();\r\n  }\r\n\r\n  initSession(session) {\r\n    let $login = this.$view.find(\"#login\");\r\n    let $welcome = this.$view.find(\"#welcome\");\r\n\r\n    this.session = session;\r\n\r\n    $login.hide();\r\n    $welcome.show();\r\n    $welcome.html(\"Welcome \" + session.user.firstname);\r\n  }\r\n\r\n  attachEvent() {\r\n    let $login = this.$view.find(\"#login\");\r\n    $login.click(this.onLoginClick);\r\n  }\r\n}\r\n\r\nexport default HeaderController;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/header/headerController.js\n// module id = 17\n// module chunks = 0","class Session {\r\n  constructor() {\r\n    this.id = null;\r\n    this.user = null;\r\n  }\r\n\r\n  setId(id) {\r\n    this.id = id;\r\n  }\r\n\r\n  setUser(user) {\r\n    this.user = user;\r\n  }\r\n}\r\n\r\nexport default Session;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/session/session.js\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}